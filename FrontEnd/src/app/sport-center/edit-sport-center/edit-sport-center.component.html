<div class="center flex sport-center-main">
  <div class="sport-center-container center flex">
    <div>
      <h1>Uredite sportski centar</h1>
      <p>Promjenom naziva, adrese ili fotografija sportski centar će se ponovno morati potvrditi od strane admina!</p>
    </div>
    <form
      [formGroup]="addForm"
      (ngSubmit)="editSportCenter()"
      class="flex center info-form"
      #form="ngForm"
    >
      <div class="text-input">
        <div class="form-container">
          <div class="form-field">
            <input
              formControlName="sportCenterName"
              type="text"
              required
              id="sportCenterName"
              placeholder=""
            />
            <label for="sportCenterName">Naziv</label>
          </div>
          @if (
            (addForm.controls.sportCenterName.dirty || form.submitted) &&
            !addForm.controls.sportCenterName.valid
          ) {
            <span class="form-error">Morate unijeti naziv!</span>
          }
        </div>
        <div class="form-container">
          <div class="form-field address">
            <input
              formControlName="address"
              type="text"
              required
              id="address"
              placeholder=""
            />
            <label for="address">Adresa</label>
          </div>
          @if (
            (addForm.controls.address.dirty || form.submitted) &&
            !addForm.controls.address.valid
          ) {
            <span class="form-error">Morate unijeti adresu!</span>
          }
        </div>
      </div>

      <div class="form-container image-input">
        <label class="button image-button">
          Odaberite fotografije
          <input class="hide-file-input" type="file" (change)="handleFileInput($event)" required />
        </label>
      </div>
      @if (url.length > 0) {
        <div class="image-container">
          @for (u of url; track $index) {
            <div [id]="$index" class="img-container" (click)="onDeleteImg($index)">
              <img class="img" [src]="u" alt="" />
              <mat-icon class="delete">close</mat-icon>
            </div>
          }
        </div>
      }
      <div class="flex">
        <button type="button" class="button" (click)="CloseForm()">Odustani</button>
        <button type="submit" class="button">Spremi</button>
        <button type="button" class="button delete-button" (click)="deleteSportCenter()">Obriši sportski centar</button>
      </div>
    </form>
    <div class="fields">
      <div class="fields-header">
        <h2>Tereni</h2>
        <button class="button" (click)="addField()">Dodaj teren</button>
        @if (addFieldForm) {
          <app-add-field [sportCenterId]="sportCenterId"></app-add-field>
        }
      </div>
    </div>
  </div>
</div>
